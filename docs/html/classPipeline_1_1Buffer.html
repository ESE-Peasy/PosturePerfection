<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PosturePerfection: Pipeline::Buffer&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PosturePerfection
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacePipeline.html">Pipeline</a></li><li class="navelem"><a class="el" href="classPipeline_1_1Buffer.html">Buffer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Pipeline::Buffer&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A synchronising buffer to be used as a communication mechanism between threads.  
 <a href="classPipeline_1_1Buffer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="pipeline_8h_source.html">pipeline.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8c55c604454fb0b1039271a90dcabe7f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPipeline_1_1Buffer.html#a8c55c604454fb0b1039271a90dcabe7f">Buffer</a> (bool *running_ptr, size_t max_size)</td></tr>
<tr class="memdesc:a8c55c604454fb0b1039271a90dcabe7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <code><a class="el" href="classPipeline_1_1Buffer.html" title="A synchronising buffer to be used as a communication mechanism between threads.">Buffer</a></code> object.  <a href="classPipeline_1_1Buffer.html#a8c55c604454fb0b1039271a90dcabe7f">More...</a><br /></td></tr>
<tr class="separator:a8c55c604454fb0b1039271a90dcabe7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e412a884a75acdf28935a1fd41a344"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPipeline_1_1Buffer.html#af5e412a884a75acdf28935a1fd41a344">push</a> (T frame)</td></tr>
<tr class="memdesc:af5e412a884a75acdf28935a1fd41a344"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push a frame to the queue.  <a href="classPipeline_1_1Buffer.html#af5e412a884a75acdf28935a1fd41a344">More...</a><br /></td></tr>
<tr class="separator:af5e412a884a75acdf28935a1fd41a344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be39610d75d446b134194803d20dfc6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPipeline_1_1Buffer.html#a5be39610d75d446b134194803d20dfc6">try_push</a> (T frame)</td></tr>
<tr class="memdesc:a5be39610d75d446b134194803d20dfc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push a frame to the queue (doesn't block if queue is full)  <a href="classPipeline_1_1Buffer.html#a5be39610d75d446b134194803d20dfc6">More...</a><br /></td></tr>
<tr class="separator:a5be39610d75d446b134194803d20dfc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7be59463df9ced0c68e44b2567140622"><td class="memItemLeft" align="right" valign="top">T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPipeline_1_1Buffer.html#a7be59463df9ced0c68e44b2567140622">pop</a> ()</td></tr>
<tr class="memdesc:a7be59463df9ced0c68e44b2567140622"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop the oldest element in the queue and return it.  <a href="classPipeline_1_1Buffer.html#a7be59463df9ced0c68e44b2567140622">More...</a><br /></td></tr>
<tr class="separator:a7be59463df9ced0c68e44b2567140622"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
class Pipeline::Buffer&lt; T &gt;</h3>

<p>A synchronising buffer to be used as a communication mechanism between threads. </p>
<p>The buffer ensures that elements are in order based on the element's <code>id</code> field. Attempting to <code>push</code> an element that is not next in line will block until the missing element has been pushed by a different thread. An object of this class may therefore be used to share the load at any stage in a pipeline between multiple threads without needing to worry about issues in the order of elements.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type for elements in the buffer. This must provide an <code>id</code> field that is a <code>uint8_t</code>. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8c55c604454fb0b1039271a90dcabe7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c55c604454fb0b1039271a90dcabe7f">&#9670;&nbsp;</a></span>Buffer()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPipeline_1_1Buffer.html">Pipeline::Buffer</a>&lt; T &gt;::<a class="el" href="classPipeline_1_1Buffer.html">Buffer</a> </td>
          <td>(</td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>running_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a new <code><a class="el" href="classPipeline_1_1Buffer.html" title="A synchronising buffer to be used as a communication mechanism between threads.">Buffer</a></code> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">running_ptr</td><td>Pointer to the <code>Pipeline::Pipeline::running</code> flag </td></tr>
    <tr><td class="paramname">max_size</td><td>Maximum desired useable size of underlying memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7be59463df9ced0c68e44b2567140622"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7be59463df9ced0c68e44b2567140622">&#9670;&nbsp;</a></span>pop()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T <a class="el" href="classPipeline_1_1Buffer.html">Pipeline::Buffer</a>&lt; T &gt;::pop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pop the oldest element in the queue and return it. </p>
<dl class="section return"><dt>Returns</dt><dd>T Oldest frame on the queue </dd></dl>

</div>
</div>
<a id="af5e412a884a75acdf28935a1fd41a344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5e412a884a75acdf28935a1fd41a344">&#9670;&nbsp;</a></span>push()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classPipeline_1_1Buffer.html">Pipeline::Buffer</a>&lt; T &gt;::push </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Push a frame to the queue. </p>
<p>This blocks if the frame's ID is not the next in the series, until the missing frame has been pushed by another thread. Also blocks if the maximum size is reached, until elements are popped.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">frame</td><td>Frame to be pushed to the queue </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5be39610d75d446b134194803d20dfc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5be39610d75d446b134194803d20dfc6">&#9670;&nbsp;</a></span>try_push()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classPipeline_1_1Buffer.html">Pipeline::Buffer</a>&lt; T &gt;::try_push </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Push a frame to the queue (doesn't block if queue is full) </p>
<p>This blocks if the frame's ID is not the next in the series, until the missing frame has been pushed by another thread. It returns if the queue is full.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>Frame to be pushed to the queue </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> If pushing was successful </dd>
<dd>
<code>false</code> If the frame was not pushed, i.e., the queue was full; or the pipeline is halting </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="pipeline_8h_source.html">pipeline.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
